<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gạo Nhà — Sự hài lòng và tình thân</title>
  <meta name="description" content="Gạo Nhà - Gạo sạch từ ruộng nhà đến bàn ăn của bạn. Không pha trộn, không hóa chất." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --green:#6aa84f;
      --gold:#e6b800;
      --dark:#222;
      --muted:#666;
      --bg:#fafaf5;
      --card:#ffffff;
      --radius:12px;
    }
    *{box-sizing:border-box}
    body{font-family:'Poppins',sans-serif;margin:0;background:var(--bg);color:var(--dark);line-height:1.6}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{background:linear-gradient(180deg,#f7fbf2,white);border-bottom:1px solid #eee}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:10px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:transparent}
    .logo img{width:56px;height:56px;object-fit:contain}
    nav a{margin-left:14px;color:var(--dark);text-decoration:none;font-weight:600;font-size:14px}
    .cta-small{background:var(--gold);color:#111;padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700}
    .hero{display:flex;gap:28px;align-items:center;padding:34px 0}
    .hero-left{flex:1}
    .hero h1{font-size:34px;margin:0 0 12px}
    .hero p{margin:0 0 18px;color:var(--muted);font-size:15px}
    .cta{background:var(--green);color:white;padding:12px 18px;border-radius:10px;text-decoration:none;font-weight:800;display:inline-block}
    .hero-sub{margin-top:10px;color:var(--muted);font-size:13px}
    .hero-right{flex:1;text-align:center}
    .hero-right img{max-width:100%;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.08)}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:28px}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,.03)}
    .card img{width:100%;border-radius:8px;display:block;height:180px;object-fit:cover}
    .card h3{margin:10px 0 6px;font-size:16px}
    .price{color:var(--green);font-weight:800}
    .muted{color:var(--muted);font-size:14px}
    .about{display:flex;gap:20px;align-items:center;margin:38px 0}
    .about img{width:46%;border-radius:12px;object-fit:cover}
    .about .txt{flex:1}
    .trace{background:#fbfff6;padding:18px;border-radius:12px;margin:24px 0;border:1px solid #f0f6e8}
    .trace form{display:flex;gap:10px;align-items:center}
    .trace input{flex:1;padding:12px;border:1px solid #e5e5e5;border-radius:10px}
    .trace button{padding:10px 14px;background:var(--gold);border:none;border-radius:10px;font-weight:700;cursor:pointer}
    .contact-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:12px}
    footer{border-top:1px solid #eee;padding:22px 0;margin-top:32px;color:var(--muted)}
    @media(max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}.about{flex-direction:column}.about img{width:100%}.hero{flex-direction:column}}
    @media(max-width:520px){.grid{grid-template-columns:1fr}nav a{display:none}.hero h1{font-size:22px}.contact-grid{grid-template-columns:1fr}.nav{padding:10px 0}}
    .center{text-align:center}
    .popup{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:9999}
    .modal{background:white;padding:18px;border-radius:12px;max-width:900px;width:95%}
    .closeBtn{background:#eee;border:none;padding:6px 10px;border-radius:8px;cursor:pointer}
    .small{font-size:13px}
  </style>
</head>
<body>
  <header>
    <div class="container nav" role="navigation">
      <div class="brand">
        <div class="logo"><img src="logo.png" alt="Logo Gạo Nhà"></div>
        <div>
          <div style="font-weight:800;font-size:18px">Gạo Nhà</div>
          <div style="font-size:13px;color:var(--muted)">Sự hài lòng và tình thân</div>
        </div>
      </div>
      <nav aria-label="Main navigation">
        <a href="#home">Trang chủ</a>
        <a href="#products">Sản phẩm</a>
        <a href="#about">Giới thiệu</a>
        <a href="#trace">Quét QR</a>
        <a href="#contact">Liên hệ</a>
      </nav>
    </div>
  </header>

  <main class="container" id="home">
    <section class="hero" aria-label="hero">
      <div class="hero-left">
        <h1>Từ ruộng nhà đến bàn ăn của bạn</h1>
        <p>Gạo Nhà – gạo sạch, chăm sóc tỉ mỉ từ ruộng, xay xát thuần túy. Không pha trộn, không hóa chất. Hương vị quê nhà trong từng bát cơm.</p>
        <a class="cta" href="#products">Mua ngay</a>
        <div class="hero-sub">Quét mã QR trên bao bì để truy xuất nguồn gốc lô hàng.</div>
      </div>
      <div class="hero-right">
        <img alt="Ruộng lúa Gạo Nhà" src="5kg.jpg" />
      </div>
    </section>

    <section id="products">
      <h2>Sản phẩm</h2>
      <div class="grid" role="list">
        <article class="card" role="listitem">
          <img src="1kg.jpg" alt="Gạo thơm 1kg">
          <h3>Gạo thơm (1 kg)</h3>
          <div class="price">33.000 ₫</div>
          <p class="muted">Gạo thơm, dẻo, mềm chất lượng cao.</p>
        </article>

        <article class="card" role="listitem">
          <img src="5kg.jpg" alt="Gạo thơm 5kg">
          <h3>Gạo thơm (5 kg)</h3>
          <div class="price">165.000 ₫</div>
          <p class="muted">Gạo thơm, dẻo, mềm chất lượng cao.</p>
        </article>

        <article class="card" role="listitem">
          <img src="1kg.jpg" alt="Combo dùng thử">
          <h3>Combo dùng thử (500 g)</h3>
          <div class="price">Liên hệ</div>
          <p class="muted">Trải nghiệm hương vị Gạo Nhà.</p>
        </article>
      </div>
    </section>

    <section id="about" class="about" aria-labelledby="about-heading">
      <img alt="Nông dân chăm sóc lúa" src="1kg.jpg" />
      <div class="txt">
        <h2 id="about-heading">Về Gạo Nhà</h2>
        <p>Từng bông lúa chín vàng được chăm sóc bằng sự tận tâm của người nông dân chất phác.</p>
        <p>Chúng tôi không vội vàng, không chạy theo năng suất, tất cả đều được gìn giữ theo cách tự nhiên nhất để chất lượng được đặt lên hàng đầu. Đó là lý do vì sao "Gạo Nhà" luôn thơm ngon và dẻo mềm.</p>
	<p>Từ ruộng đồng đến bữa cơm, "Gạo Nhà" gửi gắm sự hài lòng trong từng hạt gạo – đậm đà hương vị truyền thống, mộc mạc của đất quê.</p>
        <p><button class="cta-small" onclick="openTVC()">Xem thêm</button></p>
      </div>
    </section>

    <section id="trace" class="trace" aria-labelledby="trace-heading">
      <h3 id="trace-heading">Truy xuất nguồn gốc</h3>
      <p class="muted">Nhập mã lô in trên bao bì hoặc quét QR để xem thông tin chi tiết: nơi trồng, người trồng, ngày thu hoạch, ngày xay xát, ghi chú chứng nhận.</p>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <form onsubmit="event.preventDefault();lookup();" style="flex:1;min-width:220px;display:flex;gap:8px;">
          <input id="lotCode" type="text" placeholder="Nhập mã lô (ví dụ: GN20250801-01)" aria-label="Mã lô"/>
          <button type="submit">Tra cứu</button>
        </form>
        <button onclick="openScanner()" style="padding:10px 14px;background:var(--green);color:white;border:none;border-radius:10px;cursor:pointer">Quét QR (mở camera)</button>
      </div>
      <div id="traceResult" style="margin-top:12px"></div>
    </section>

    <section id="contact" aria-labelledby="contact-heading">
      <h2 id="contact-heading">Liên hệ & Đặt hàng</h2>
      <p class="muted">Bạn có thể đặt hàng qua Facebook, Zalo hoặc gọi trực tiếp. Hỗ trợ giao tận nơi hoặc nhận tại kho.</p>

      <div class="contact-grid">
        <div class="card">
          <h3>Đặt hàng nhanh</h3>
          <p class="muted">Gọi: <strong>094.182.7966</strong></p>
          <p class="muted">Email: <strong>gaonhaag@gmail.com</strong></p>
          <p class="small muted">Hỗ trợ COD & chuyển khoản</p>
        </div>
        <div class="card">
          <h3>Địa chỉ</h3>
          <p class="muted">Ấp Vĩnh Lợi 2, xã Châu Phong, tỉnh An Giang, Việt Nam</p>
          <p class="muted">Thời gian làm việc: 8:00 - 18:00 (T2 - CN)</p>
        </div>
        <div class="card">
          <h3>Thanh toán</h3>
          <p class="muted">Hỗ trợ COD, chuyển khoản ngân hàng, ví điện tử.</p>
        </div>
      </div>
    </section>

  </main>

  <footer class="container">
    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
      <div>&copy; <strong>Gạo Nhà</strong> — Sự hài lòng và tình thân</div>
      <div class="muted small">Thiết kế demo. Liên hệ để chỉnh sửa chi tiết.</div>
    </div>
  </footer>

  <!-- Modal for TVC -->
  <div id="tvcModal" class="popup" style="display:none">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
        <strong>Video giới thiệu</strong>
        <button class="closeBtn" onclick="closeTVC()">Đóng</button>
      </div>
      <div style="margin-top:10px">
        <video id="tvcVideo" controls style="width:100%;border-radius:8px">
          <source src="tvc.mp4" type="video/mp4">
          Trình duyệt của bạn không hỗ trợ video.
        </video>
      </div>
    </div>
  </div>

  <!-- Modal for QR scanner -->
  <div id="scannerModal" class="popup" style="display:none">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
        <strong>Quét mã QR</strong>
        <button class="closeBtn" onclick="closeScanner()">Đóng</button>
      </div>
      <div style="margin-top:10px">
        <div id="reader" style="width:100%"></div>
        <div id="scanResult" style="margin-top:10px"></div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/html5-qrcode@2.3.8/minified/html5-qrcode.min.js"></script>
  <script>
    // mock DB mẫu
    const mockDB = {
      "GN20250801-01": {
        lot: "GN20250801-01",
        field: "Thửa 5, Ấp Vĩnh Lợi 2, Xã Châu Phong, Huyện An Giang",
        farmer: "Nguyễn Văn A",
        harvest: "01/08/2025",
        mill: "Xay tại nhà - Lò xay 01",
        certified: "Không sử dụng hóa chất; Kiểm soát 5 bước"
      },
      "GN20250720-02": {
        lot: "GN20250720-02",
        field: "Thửa 12, Xã Châu Phong, Huyện An Giang",
        farmer: "Trần Thị B",
        harvest: "20/07/2025",
        mill: "Thuê xay - Nhà xay Cộng Hòa",
        certified: "VietGAP (đang làm hồ sơ)"
      },
      "GN20250905-03": {
        lot: "GN20250905-03",
        field: "Thửa 2, Xã Châu Phong, Huyện An Giang",
        farmer: "Lê Thị C",
        harvest: "05/09/2025",
        mill: "Xay tại nhà - Lò xay 02",
        certified: "Không sử dụng hóa chất"
      }
    };

    function lookup(){
      const code = document.getElementById('lotCode').value.trim();
      const target = document.getElementById('traceResult');
      target.innerHTML = '';
      if(!code){ target.innerHTML = '<div class="muted">Vui lòng nhập mã lô.</div>'; return }
      const data = mockDB[code];
      if(!data){ target.innerHTML = '<div class="muted">Không tìm thấy lô. Vui lòng kiểm tra lại mã hoặc quét QR trên bao bì.</div>'; return }
      const html = `
        <div style="padding:12px;border-radius:10px;background:white;border:1px solid #f0f0f0">
          <div><strong>Mã lô:</strong> ${data.lot}</div>
          <div><strong>Ruộng trồng:</strong> ${data.field}</div>
          <div><strong>Người trồng:</strong> ${data.farmer}</div>
          <div><strong>Ngày thu hoạch:</strong> ${data.harvest}</div>
          <div><strong>Xay xát:</strong> ${data.mill}</div>
          <div><strong>Ghi chú chứng nhận:</strong> ${data.certified}</div>
        </div>
      `;
      target.innerHTML = html;
    }

    // TVC modal
    function openTVC(){ document.getElementById('tvcModal').style.display='flex'; document.getElementById('tvcVideo').play(); }
    function closeTVC(){ document.getElementById('tvcModal').style.display='none'; document.getElementById('tvcVideo').pause(); document.getElementById('tvcVideo').currentTime=0; }

    // QR scanner sử dụng html5-qrcode
    let html5QrcodeScanner;
    function openScanner(){
      document.getElementById('scannerModal').style.display='flex';
      document.getElementById('scanResult').innerHTML='';
      const readerId = "reader";
      html5QrcodeScanner = new Html5Qrcode(readerId);
      const config = { fps: 10, qrbox: 250, facingMode: "environment" };
      html5QrcodeScanner.start({ facingMode: "environment" }, config, qrMessage => {
        // khi quét được
        document.getElementById('scanResult').innerHTML = '<div style="padding:8px;background:#f6fff6;border-radius:8px">Mã đã quét: <strong>'+qrMessage+'</strong></div>';
        if(mockDB[qrMessage]){
          document.getElementById('scanResult').innerHTML += `<div style="margin-top:8px">${formatTrace(mockDB[qrMessage])}</div>`;
        } else {
          document.getElementById('scanResult').innerHTML += '<div class="muted" style="margin-top:8px">Không tìm thấy lô trong hệ thống demo.</div>';
        }
        // dừng quét sau khi thành công
        html5QrcodeScanner.stop().then(()=>{}).catch(()=>{});
      }, errorMessage => {
        // bỏ qua lỗi từng frame
      }).catch(err=>{
        document.getElementById('scanResult').innerHTML = '<div class="muted">Không thể khởi tạo camera. Vui lòng kiểm tra quyền truy cập camera và chạy trang qua HTTPS.</div>';
      });
    }
    function closeScanner(){
      document.getElementById('scannerModal').style.display='none';
      document.getElementById('scanResult').innerHTML='';
      if(html5QrcodeScanner){
        html5QrcodeScanner.stop().catch(()=>{});
      }
    }
    function formatTrace(d){
      return `<div style="padding:12px;border-radius:10px;background:white;border:1px solid #f0f0f0">
        <div><strong>Mã lô:</strong> ${d.lot}</div>
        <div><strong>Ruộng trồng:</strong> ${d.field}</div>
        <div><strong>Người trồng:</strong> ${d.farmer}</div>
        <div><strong>Ngày thu hoạch:</strong> ${d.harvest}</div>
        <div><strong>Xay xát:</strong> ${d.mill}</div>
        <div><strong>Ghi chú:</strong> ${d.certified}</div>
      </div>`;
    }

    // smooth scroll cho anchor links
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', function(e){
        const href = this.getAttribute('href');
        if(href.length>1){ e.preventDefault(); document.querySelector(href).scrollIntoView({behavior:'smooth', block:'start'}); }
      });
    });
  </script>
</body>
</html>
